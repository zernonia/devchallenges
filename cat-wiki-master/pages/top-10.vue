<template>
  <div class="top-ten">
    <h1 class="max-w-full my-6">Top 10 most searched breeds</h1>
    <div
      v-for="(item, index) in topList"
      :key="index"
      class="flex flex-row my-6 h-full hover:bg-gray-200 cursor-pointer p-6 rounded-5xl"
      @click="$router.push(`/cats/${item.breed_id}`)"
    >
      <img
        class="h-64 w-64 rounded-5xl object-cover"
        :src="item.image"
        alt=""
      />
      <div class="ml-20 flex flex-col justify-between h-64">
        <div class="flex flex-col">
          <h2 class="font-semibold text-3xl">
            {{ index + 1 }}. {{ item.name }}
          </h2>
          <p class="font-medium mt-6">{{ item.description }}</p>
        </div>
        <div class="flex flex-row items-center">
          <svg
            class="mr-6"
            width="20"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 511.999 511.999"
          >
            <path
              d="M360.7 251.482c-28.132-28.036-65.482-43.363-105.224-43.262-81.5.282-147.806 67.471-147.806 149.776v20.963c0 29.648 15.198 56.418 40.656 71.611 25.456 15.193 56.234 15.863 82.327 1.789 15.87-8.56 34.821-8.56 50.692 0 12.5 6.743 26.07 10.101 39.621 10.1 14.734-.001 29.445-3.974 42.707-11.889 25.457-15.193 40.656-41.964 40.656-71.611v-22.41c-.002-39.717-15.495-77.03-43.629-105.067zM97.75 171.039l-8.028-5.833c-25.214-18.319-60.63-12.709-78.947 12.504h-.001c-18.318 25.213-12.709 60.629 12.505 78.948l8.028 5.833a56.213 56.213 0 0033.147 10.774c17.493 0 34.756-8.076 45.802-23.278 18.316-25.214 12.707-60.63-12.506-78.948zM501.225 179.056c-18.318-25.213-53.736-30.824-78.948-12.504l-8.028 5.833c-25.213 18.318-30.823 53.734-12.504 78.948 11.047 15.204 28.307 23.278 45.801 23.278a56.222 56.222 0 0033.147-10.774l8.028-5.833c25.213-18.319 30.822-53.735 12.504-78.948zM236.618 113.739l-8.161-25.117c-4.664-14.358-14.642-26.04-28.095-32.894-13.451-6.855-28.768-8.06-43.125-3.394-14.358 4.665-26.041 14.642-32.896 28.094s-8.06 28.768-3.394 43.126l8.161 25.117c7.753 23.859 29.965 39.06 53.795 39.06 5.773 0 11.646-.893 17.426-2.771h.001c14.357-4.665 26.04-14.643 32.895-28.095 6.853-13.452 8.058-28.768 3.393-43.126zM354.761 52.846c-29.641-9.631-61.589 6.649-71.219 36.289l-8.161 25.116c-4.665 14.358-3.46 29.674 3.393 43.126 6.854 13.452 18.537 23.43 32.894 28.095a56.334 56.334 0 0017.427 2.771c23.828 0 46.042-15.201 53.795-39.06l8.161-25.117c9.63-29.64-6.65-61.589-36.29-71.22z"
            />
          </svg>
          {{ item.count }} views
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
import Vue from 'vue'
import axios from 'axios'
export default Vue.extend({
  async fetch() {
    console.log(process.env.baseUrl)
    this.topList = await this.$http.$get(`/api/getSearchCount`)
  },
  data: () => ({
    topList: [],
  }),
})
</script>

<style></style>
